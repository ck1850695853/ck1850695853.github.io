"use strict";function showData(){$.ajax({url:"../interface/showlist.php",method:"get",dataType:"json",success:function(n){if(1===n.code){$(".product_list").empty();n=n.data;if(n.length<1)return $("#cEmpty").show(),void $("#main>.container").hide();$("#cEmpty").hide(),$("#main>.container").show(),$(n).each(function(n,t){$("#main>.container>.product>.product_list").append('\n                    <div class="product_list_child">\n                        <ul class="clearfix">\n                            <li><span class="sp1"><i class="iconfont icon-gou"></i></span><span class="sp2"></span></li>\n                            <li>\n                                '.concat(t.product_img,'\n                            </li>\n                            <li>\n                                <h3 class="product_name">').concat(t.product_name,'</h3>\n                            </li>\n                            <li><p class="product_price">').concat(t.product_price,'</p></li>\n                            <li>\n                                <div class="upnum_box">\n                                    <span class="cut"><i class="iconfont icon-jianhao"></i></span>\n                                    <input type="text" class="shop_num" value="').concat(t.product_num,'">\n                                    <span class="add"><i class="iconfont icon-jiahao"></i></span>\n                                    \n                                </div>\n                            </li>\n                            <li>\n                                <span class="total"></span>元\n                                <span></span>\n                            </li>\n                            <li>\n                                <span class="del"><i class="iconfont icon-chahao"></i></span>\n                            </li>\n                            <li><p class="product_id">').concat(t.product_id,"</p></li>\n                        </ul>\n                </div>\n                    ")),$(".total").eq(n).text(parseInt(t.product_price)*t.product_num)})}else $("#cEmpty").show(),$("#main>.container").hide()},error:function(n){console.log(n)}})}$(".cHeader_logo").mouseenter(function(){$(this).children(".cHeader_logo_a1").css({transform:"translate3d(48px,0px,0px)",transitionDuration:"200ms"}),$(this).children(".cHeader_logo_a2").css({transform:"translate3d(48px,0px,0px)",transitionDuration:"200ms"})}),$(".cHeader_logo").mouseleave(function(){$(this).children(".cHeader_logo_a1").css({transform:"translate3d(0px,0px,0px)",transitionDuration:"200ms"}),$(this).children(".cHeader_logo_a2").css({transform:"translate3d(-48px,0px,0px)",transitionDuration:"200ms"})}),showData(),$(".product>.product_list").on("click",".cut",function(){var t=this;$.ajax({url:"../interface/update.php",method:"get",data:{id:$(this).parents("ul").children().last().children(".product_id").text(),type:this.className},dataType:"json",success:function(n){console.log($(t)),1===n.code&&((n=$(t).siblings(".shop_num").val()-1)<1&&(n=1,alert("商品数量不能为空")),$(t).siblings(".shop_num").val(n),n=parseInt($(t).parent(".upnum_box").parent().prev().children(".product_price").text())*n,$(t).parent(".upnum_box").parent().next().children(".total").text(n))},error:function(n){console.log(n)}})}),$(".product>.product_list").on("click",".add",function(){var t=this;$.ajax({url:"../interface/update.php",method:"get",data:{id:$(this).parents("ul").children().last().children(".product_id").text(),type:this.className},dataType:"json",success:function(n){console.log(1),console.log(t),console.log($(t)),console.log($(t).siblings(".shop_num")),1===n.code&&(n=Number($(t).siblings(".shop_num").val())+1,$(t).siblings(".shop_num").val(n),n=parseInt($(t).parent(".upnum_box").parent().prev().children(".product_price").text())*n,$(t).parent(".upnum_box").parent().next().children(".total").text(n))},error:function(n){console.log(n)}})}),$(".product>.product_list").on("click",".del",function(){$.ajax({url:"../interface/del.php",method:"get",data:{id:$(this).parents("ul").children().last().children(".product_id").text()},dataType:"json",success:function(n){1===n.code&&showData()},error:function(n){console.log(n)}})});